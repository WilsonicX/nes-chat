<html>
    <head>
    <link rel="stylesheet" type="text/css" href="./assets/main.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="./assets/client.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script>
        // global properties
        var client = new nes.Client("ws://localhost:4000/chat");
        client.connect(function(err){
            var self = this;
            if(err){
                console.log(err)
            }
            console.log("connected");

            client.onUpdate = function(update){
                console.log(update)
                $("#messages").append($("<li>").text(update));
            }

            // on submit send the client apps
            $("form").submit(function(){
                // send the mesasge to the server
                client.message($("#m").val());
                $("#m").val("");
                return false;
            });
        });
    </script>
    </head>
    <body>
        <ul id="messages"></ul>
        <form action="">
          <input id="m" autocomplete="off" /><button>Send</button>
        </form>
    </body>

</html>
